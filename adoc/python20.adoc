:imagesdir: ../adoc/assets/images/

== 五、Python基本语法

=== 1、变量和类型

====
在程序设计中，变量是一种存储数据的载体。变量存储在内存中的值。这就意味着在创建变量时会在内存中开辟一个空间。 基于变量的数据类型，解释器会分配指定内存，并决定什么数据可以被存储在内存中。 因此，变量可以指定不同的数据类型，这些变量可以存储整数，小数或字符。变量的值可以被读取和修改，这是所有计算和控制的基础。计算机能处理的数据有很多种类型，除了数值之外还可以处理文本、图形、音频、视频等各种各样的数据，那么不同的数据就需要定义不同的存储类型。Python中的数据类型很多。

.. 整型：Python中可以处理任意大小的整数（Python 2.x中有int和long两种类型的整数，但这种区分对Python来说意义不大，因此在Python 3.x中整数只有int这一种了），而且支持二进制（如0b100，换算成十进制是4）、八进制（如0o100，换算成十进制是64）、十进制（100）和十六进制（0x100，换算成十进制是256）的表示法。
.. 浮点型：浮点数也就是小数，之所以称为浮点数，是因为按照科学记数法表示时，一个浮点数的小数点位置是可变的，浮点数除了数学写法（如123.456）之外还支持科学计数法（如1.23456e2）。
.. 字符串型：字符串是以单引号或双引号括起来的任意文本，比如'hello'和"hello",字符串还有原始字符串表示法、字节字符串表示法、Unicode字符串表示法，而且可以书写成多行的形式（用三个单引号或三个双引号开头，三个单引号或三个双引号结尾）。
.. 布尔型：布尔值只有True、False两种值，要么是True，要么是False，在Python中，可以直接用True、False表示布尔值（请注意大小写），也可以通过布尔运算计算出来（例如3 < 5会产生布尔值True，而2 == 1会产生布尔值False）。
.. 复数型：形如3+5j，跟数学上的复数表示一样，唯一不同的是虚部的i换成了j。


一些数值类型的实例:::

|===
|int |long |float |complex

|10
|51924361L
|0.0
|3.14j

|100
|-0x19323L
|15.20
|45.j

|-786
|0122L
|-21.9
|9.322e-36j

|080
|0xDEFABCECBDAECBFBAEl
|32.3e+18
|.876j

|-0490
|535633629843L
|-90.
|-.6545+0J

|-0x260
|-052318172735L
|-32.54e100
|3e+26J

|0x69
|-4721885298529L
|70.2E-12
|4.53e-7j

|===


====

=== 2、变量命名

====
对于每个变量我们需要给它取一个名字，就如同我们每个人都有属于自己的响亮的名字一样。在Python中，变量命名需要遵循以下这些必须遵守硬性规则和强烈建议遵守的非硬性规则。

.. 硬性规则： 变量名由字母（广义的Unicode字符，不包括特殊字符）、数字和下划线构成，数字不能开头。 大小写敏感（大写的a和小写的A是两个不同的变量）。 不要跟关键字（有特殊含义的单词，后面会讲到）和系统保留字（如函数、模块等的名字）冲突。
.. PEP 8要求： 用小写字母拼写，多个单词用下划线连接。 受保护的实例属性用单个下划线开头（后面会讲到）。 私有的实例属性用两个下划线开头（后面会讲到）。 当然，作为一个专业的程序员，给变量（事实上应该是所有的标识符）命名时做到见名知意也是非常重要的。
====

=== 3、变量赋值

Python 中的变量赋值不需要类型声明。

每个变量在内存中创建，都包括变量的标识，名称和数据这些信息。

每个变量在使用前都必须赋值，变量赋值以后该变量才会被创建。

等号（=）用来给变量赋值。

等号（=）运算符左边是一个变量名,等号（=）运算符右边是存储在变量中的值。例如：

单变量赋值:::

[source,python,indent=0]
----
include::../chapter02/variable.py[lines=13..19]
----

多变量赋值:::

[source,python,indent=0]
----
include::../chapter02/variable.py[lines=52..57]
----

=== 4、标准数据类型

Python 定义了一些标准类型，用于存储各种类型的数据。 Python有五个标准的数据类型：

* Numbers（数字）

 数字数据类型用于存储数值。他们是不可改变的数据类型，这意味着改变数字数据类型会分配一个新的对象。
Python支持四种不同的数字类型：
   I.int（有符号整型）
   II.long（长整型[也可以代表八进制和十六进制]）
   III.float（浮点型）
   IV.complex（复数）
   可以使用del语句删除一些对象的引用。
   del语句的语法是：
   del var1[,var2[,var3[....,varN]]]]
   您可以通过使用del语句删除单个或多个对象的引用。例如：
   del var
   del var_a, var_b

[NOTE]
====
. 长整型也可以使用小写 l，但是还是建议您使用大写 L，避免与数字 1 混淆。Python使用 L 来显示长整型。
. Python 还支持复数，复数由实数部分和虚数部分构成，可以用 a + bj,或者 complex(a,b) 表示， 复数的实部 a 和虚部 b 都是浮点型。
====

* String（字符串）

字符串或串(String)是由数字、字母、下划线组成的一串字符。 s="a1a2···an"(n>=0) 它是编程语言中表示文本的数据类型。 python的字串列表有2种取值顺序:
I.从左到右索引默认0开始的，最大范围是字符串长度少1 II.从右到左索引默认-1开始的，最大范围是字符串开头 如果你要实现从字符串中获取一段子字符串的话，可以使用 [头下标:尾下标] 来截取相应的字符串，其中下标是从 0 开始算起，可以是正数或负数，下标可以为空表示取到头或尾。 从左到右索引默认0开始的，最大范围是字符串长度少1 从右到左索引默认-1开始的，最大范围是字符串开头

image::p14.png[]

[source,python,indent=0]
----
include::../chapter02/variable.py[lines=59..67]
----

* List（列表）

  Python列表
  List（列表） 是 Python 中使用最频繁的数据类型。
  列表可以完成大多数集合类的数据结构实现。它支持字符，数字，字符串甚至可以包含列表（即嵌套）。
  列表用 [ ] 标识，是 python 最通用的复合数据类型。
  列表中值的切割也可以用到变量 [头下标:尾下标] ，就可以截取相应的列表，从左到右索引默认 0 开始，从右到左索引默认 -1 开始，下标可以为空表示取到头或尾。
  加号 + 是列表连接运算符，星号 * 是重复操作。如下实例：

image::p15.png[]

[source,python,indent=0]
----
include::../chapter02/list_tuple_dic.py[lines=8..15]
----

* Tuple（元组）

  元组是另一个数据类型，类似于 List（列表）。
  元组用 () 标识。内部元素用逗号隔开。但是元组不能二次赋值，相当于只读列表。

[source,python,indent=0]
----
include::../chapter02/list_tuple_dic.py[lines=17..25]
----

以下是元组无效的，因为元组是不允许更新的。而列表是允许更新的：

[source,python,indent=0]
----
include::../chapter02/list_tuple_dic.py[lines=27..30]
----

image::p16.png[]

* Dictionary（字典）

   字典(dictionary)是除列表以外python之中最灵活的内置数据结构类型。列表是有序的对象集合，字典是无序的对象集合。
   两者之间的区别在于：字典当中的元素是通过键来存取的，而不是通过偏移存取。
   字典用"{ }"标识。字典由索引(key)和它对应的值value组成。

=== 5、Python数据类型转换

在对变量类型进行转换时可以使用Python的内置函数（准确的说下面列出的并不是真正意义上的函数，而是后面我们要讲到的创建对象的构造方法）。


|===
|函数 |描述

|int(x [,base])
|将x转换为一个整数

|long(x [,base] )
|将x转换为一个长整数

|float(x)
|将x转换到一个浮点数

|complex(real [,imag])
|创建一个复数

|str(x)
|将对象 x 转换为字符串

|repr(x)
|将对象 x 转换为表达式字符串

|eval(str)
|用来计算在字符串中的有效Python表达式,并返回一个对象

|tuple(s)
|将序列 s 转换为一个元组

|list(s)
|将序列 s 转换为一个列表

|set(s)
|转换为可变集合

|dict(d)
|创建一个字典。d 必须是一个序列 (key,value)元组。

|frozenset(s)
|转换为不可变集合

|chr(x)
|将一个整数转换为一个字符

|unichr(x)
|将一个整数转换为Unicode字符

|ord(x)
|将一个字符转换为它的整数值

|hex(x)
|将一个整数转换为一个十六进制字符串

|oct(x)
|将一个整数转换为一个八进制字符串

|===




